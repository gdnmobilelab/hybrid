<!DOCTYPE html>
<html lang="en">
  <head>
    <title>ServiceWorkerManager Class Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset='utf-8'>
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a name="//apple_ref/swift/Class/ServiceWorkerManager" class="dashAnchor"></a>
    <a title="ServiceWorkerManager Class Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="../index.html"> Docs</a> (19% documented)</p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="../index.html"> Reference</a>
        <img id="carat" src="../img/carat.png" />
        ServiceWorkerManager Class Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="../Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Classes.html#/s:C27hybrid_notification_content26CacheAddRequestFailedError">CacheAddRequestFailedError</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes.html#/s:C27hybrid_notification_content17CacheNoMatchError">CacheNoMatchError</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes.html#/s:C27hybrid_notification_content31CacheOperationNotSupportedError">CacheOperationNotSupportedError</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes.html#/s:C27hybrid_notification_content24CannotConvertToJSONError">CannotConvertToJSONError</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/CanvasEventData.html">CanvasEventData</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/CanvasView.html">CanvasView</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/Console.html">Console</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/Db.html">Db</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/DbMigrate.html">DbMigrate</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/DoNotFollowRedirectSessionDelegate.html">DoNotFollowRedirectSessionDelegate</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/DownloadToTemporaryStorage.html">DownloadToTemporaryStorage</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/ExtendableEvent.html">ExtendableEvent</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/FetchBody.html">FetchBody</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/FetchHeaders.html">FetchHeaders</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/FetchRequest.html">FetchRequest</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/FetchResponse.html">FetchResponse</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/GlobalFetch.html">GlobalFetch</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/HexColor.html">HexColor</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/ImageBitmap.html">ImageBitmap</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/JSContextError.html">JSContextError</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/JSONSerializable.html">JSONSerializable</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/JSPromiseBridge.html">JSPromiseBridge</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/MessageChannel.html">MessageChannel</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/MessageEvent.html">MessageEvent</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/MessagePort.html">MessagePort</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes.html#/s:C27hybrid_notification_content25NoErrorButNoResponseError">NoErrorButNoResponseError</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/Notification.html">Notification</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/NotificationEvent.html">NotificationEvent</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/NotificationHandler.html">NotificationHandler</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/NotificationVideo.html">NotificationVideo</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/NotificationViewController.html">NotificationViewController</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/OffscreenCanvas.html">OffscreenCanvas</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/PayloadToNotificationContent.html">PayloadToNotificationContent</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/PendingNotificationActions.html">PendingNotificationActions</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/PendingWebviewActions.html">PendingWebviewActions</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/PromiseBridge.html">PromiseBridge</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/PushEvent.html">PushEvent</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/PushEventStore.html">PushEventStore</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/PushManager.html">PushManager</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes.html#/s:C27hybrid_notification_content16PushSubscription">PushSubscription</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes.html#/s:C27hybrid_notification_content24ResultSetsStillOpenError">ResultSetsStillOpenError</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/ServiceWorkerCache.html">ServiceWorkerCache</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/ServiceWorkerCacheHandler.html">ServiceWorkerCacheHandler</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes.html#/s:C27hybrid_notification_content30ServiceWorkerDoesNotExistError">ServiceWorkerDoesNotExistError</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/ServiceWorkerInstance.html">ServiceWorkerInstance</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/ServiceWorkerManager.html">ServiceWorkerManager</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/ServiceWorkerMatch.html">ServiceWorkerMatch</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes.html#/s:C27hybrid_notification_content26ServiceWorkerNotHTTPSError">ServiceWorkerNotHTTPSError</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/ServiceWorkerRegistration.html">ServiceWorkerRegistration</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/ServiceWorkerTimeoutManager.html">ServiceWorkerTimeoutManager</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/SharedResources.html">SharedResources</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/SharedResources/userDefaultKeys.html">– userDefaultKeys</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/StoredPushEvent.html">StoredPushEvent</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes.html#/s:C27hybrid_notification_content9TestError">TestError</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/TwoDContext.html">TwoDContext</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/Util.html">Util</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/WebSQLDatabase.html">WebSQLDatabase</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/WebSQLDatabaseCreator.html">WebSQLDatabaseCreator</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/WebSQLResultSet.html">WebSQLResultSet</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/WebviewClient.html">WebviewClient</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/WebviewClientEvent.html">WebviewClientEvent</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/WebviewClientManager.html">WebviewClientManager</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/WebviewRecord.html">WebviewRecord</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Global Variables.html">Global Variables</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Global Variables.html#/s:v27hybrid_notification_content17ApplicationEventsERR">ApplicationEvents</a>
              </li>
              <li class="nav-group-task">
                <a href="../Global Variables.html#/s:v27hybrid_notification_content3logERR">log</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Enums.html">Enums</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Enums/ServiceWorkerInstallState.html">ServiceWorkerInstallState</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/WebviewClientEventType.html">WebviewClientEventType</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Protocols/CanvasEventDataExports.html">CanvasEventDataExports</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/ConsoleExports.html">ConsoleExports</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/ExtendableEventExports.html">ExtendableEventExports</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/FetchBodyExports.html">FetchBodyExports</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/FetchHeadersExports.html">FetchHeadersExports</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/FetchRequestExports.html">FetchRequestExports</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/FetchResponseExports.html">FetchResponseExports</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/GlobalFetchExports.html">GlobalFetchExports</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/ImageBitmapExports.html">ImageBitmapExports</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/JSPromiseBridgeExports.html">JSPromiseBridgeExports</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/MessageChannelExports.html">MessageChannelExports</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/MessageEventExports.html">MessageEventExports</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/MessagePortExports.html">MessagePortExports</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/NotificationEventExports.html">NotificationEventExports</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/NotificationExports.html">NotificationExports</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/NotificationVideoExports.html">NotificationVideoExports</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/OffscreenCanvasExports.html">OffscreenCanvasExports</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/PushEventExports.html">PushEventExports</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/PushManagerExports.html">PushManagerExports</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols.html#/s:P27hybrid_notification_content23PushSubscriptionExports">PushSubscriptionExports</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/ServiceWorkerCacheExports.html">ServiceWorkerCacheExports</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/ServiceWorkerCacheHandlerExports.html">ServiceWorkerCacheHandlerExports</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/ServiceWorkerInstanceExports.html">ServiceWorkerInstanceExports</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/ServiceWorkerRegistrationExports.html">ServiceWorkerRegistrationExports</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/ServiceWorkerTimeoutManagerExports.html">ServiceWorkerTimeoutManagerExports</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/TwoDContextExports.html">TwoDContextExports</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/WebSQLDatabaseCreatorExports.html">WebSQLDatabaseCreatorExports</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/WebSQLDatabaseExports.html">WebSQLDatabaseExports</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/WebSQLResultSetExports.html">WebSQLResultSetExports</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/WebviewClientExports.html">WebviewClientExports</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/WebviewClientManagerExports.html">WebviewClientManagerExports</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/WebviewRecordExports.html">WebviewRecordExports</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Structs.html">Structs</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Structs/ActiveNotificationViews.html">ActiveNotificationViews</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Interval.html">Interval</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/PromiseReturn.html">PromiseReturn</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/RequestAndResponse.html">RequestAndResponse</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/ServiceWorkerStub.html">ServiceWorkerStub</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            <h1>ServiceWorkerManager</h1>
              <div class="declaration">
                <div class="language">
                  <pre class="highlight"><code><span class="kd">class</span> <span class="kt">ServiceWorkerManager</span></code></pre>

                </div>
              </div>
            <p>The ServiceWorkerManager is responsible for managing the worker lifecycle itself -
installing, updating, etc. etc., as well as retreiving service worker instances based
on service worker scopes.</p>

          </section>
          <section class="section task-group-section">
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:ZvC27hybrid_notification_content20ServiceWorkerManager19STATUS_CHANGE_EVENTSS"></a>
                    <a name="//apple_ref/swift/Variable/STATUS_CHANGE_EVENT" class="dashAnchor"></a>
                    <a class="token" href="#/s:ZvC27hybrid_notification_content20ServiceWorkerManager19STATUS_CHANGE_EVENTSS">STATUS_CHANGE_EVENT</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Just a static string for us to ensure we are using the right event
name when attaching listeners</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">static</span> <span class="k">let</span> <span class="nv">STATUS_CHANGE_EVENT</span> <span class="o">=</span> <span class="s">"service-worker-status-change"</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:ZvC27hybrid_notification_content20ServiceWorkerManager6eventsERR"></a>
                    <a name="//apple_ref/swift/Variable/events" class="dashAnchor"></a>
                    <a class="token" href="#/s:ZvC27hybrid_notification_content20ServiceWorkerManager6eventsERR">events</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>EmitterKit event handler that is used whenever a service worker state changes</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">static</span> <span class="k">let</span> <span class="nv">events</span> <span class="o">=</span> <span class="kt">Event</span><span class="o">&lt;</span><span class="kt"><a href="../Classes/ServiceWorkerMatch.html">ServiceWorkerMatch</a></span><span class="o">&gt;</span><span class="p">()</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:ZvC27hybrid_notification_content20ServiceWorkerManager29currentlyActiveServiceWorkersGVs10DictionarySiCS_21ServiceWorkerInstance_"></a>
                    <a name="//apple_ref/swift/Variable/currentlyActiveServiceWorkers" class="dashAnchor"></a>
                    <a class="token" href="#/s:ZvC27hybrid_notification_content20ServiceWorkerManager29currentlyActiveServiceWorkersGVs10DictionarySiCS_21ServiceWorkerInstance_">currentlyActiveServiceWorkers</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>A map of current, in-use service workers. We use this to ensure that we don&rsquo;t
ever create more than one instance of a worker.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">static</span> <span class="k">var</span> <span class="nv">currentlyActiveServiceWorkers</span> <span class="o">=</span> <span class="p">[</span><span class="kt">Int</span><span class="p">:</span> <span class="kt"><a href="../Classes/ServiceWorkerInstance.html">ServiceWorkerInstance</a></span><span class="p">]()</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:ZFC27hybrid_notification_content20ServiceWorkerManager25clearActiveServiceWorkersFT_T_"></a>
                    <a name="//apple_ref/swift/Method/clearActiveServiceWorkers()" class="dashAnchor"></a>
                    <a class="token" href="#/s:ZFC27hybrid_notification_content20ServiceWorkerManager25clearActiveServiceWorkersFT_T_">clearActiveServiceWorkers()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Empty our map of service workers. This is (currently) only used in tests, to
clear out existing workers.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">static</span> <span class="kd">func</span> <span class="nf">clearActiveServiceWorkers</span><span class="p">()</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:ZFC27hybrid_notification_content20ServiceWorkerManagerP33_B11C0DB0AF7C848A4B4978D7BFD8FF8915getLastModifiedERR"></a>
                    <a name="//apple_ref/swift/Method/getLastModified(url:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:ZFC27hybrid_notification_content20ServiceWorkerManagerP33_B11C0DB0AF7C848A4B4978D7BFD8FF8915getLastModifiedERR">getLastModified(url:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Send a HEAD request to the URL specified and turn the resulting
Last-Modified header into an NSDate</p>

<div class="aside aside-parameter">
    <p class="aside-title">Parameter</p>
    Parameter url: URL to fetch

</div>

<div class="aside aside-returns">
    <p class="aside-title">Returns</p>
    NSDate if the Last-Modified header exists, nil if it doesn&rsquo;t

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">static</span> <span class="kd">private</span> <span class="kd">func</span> <span class="nf">getLastModified</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span><span class="kt">NSURL</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Promise</span><span class="o">&lt;</span><span class="kt">NSDate</span><span class="p">?</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>url</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>URL to fetch</p>

                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>NSDate if the Last-Modified header exists, nil if it doesn’t</p>

                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:ZFC27hybrid_notification_content20ServiceWorkerManagerP33_B11C0DB0AF7C848A4B4978D7BFD8FF8915getNewestWorkerFzT11urlOfWorkerCSo5NSURL_GSqVS_17ServiceWorkerStub_"></a>
                    <a name="//apple_ref/swift/Method/getNewestWorker(urlOfWorker:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:ZFC27hybrid_notification_content20ServiceWorkerManagerP33_B11C0DB0AF7C848A4B4978D7BFD8FF8915getNewestWorkerFzT11urlOfWorkerCSo5NSURL_GSqVS_17ServiceWorkerStub_">getNewestWorker(urlOfWorker:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Fetch a stub of the newest worker for a given URL, with following order: activated,
activating, installed, installing</p>

<div class="aside aside-parameter">
    <p class="aside-title">Parameter</p>
    Parameter urlOfWorker: the URL to query in the database

</div>

<div class="aside aside-returns">
    <p class="aside-title">Returns</p>
    a ServiceWorkerStub, if the worker exists. The stub just contains metadata, rather than a full instance.

</div>

<div class="aside aside-throws">
    <p class="aside-title">Throws</p>
    If the database connection fails, will throw an error.

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">private</span> <span class="kd">static</span> <span class="kd">func</span> <span class="nf">getNewestWorker</span><span class="p">(</span><span class="nv">urlOfWorker</span><span class="p">:</span><span class="kt">NSURL</span><span class="p">)</span> <span class="k">throws</span> <span class="o">-&gt;</span> <span class="kt"><a href="../Structs/ServiceWorkerStub.html">ServiceWorkerStub</a></span><span class="p">?</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>urlOfWorker</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>the URL to query in the database</p>

                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>a ServiceWorkerStub, if the worker exists. The stub just contains metadata, rather than a full instance.</p>

                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:ZFC27hybrid_notification_content20ServiceWorkerManager6updateERR"></a>
                    <a name="//apple_ref/swift/Method/update(urlOfServiceWorker:scope:forceCheck:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:ZFC27hybrid_notification_content20ServiceWorkerManager6updateERR">update(urlOfServiceWorker:scope:forceCheck:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Update or register a service worker from a remote URL. The bulk of what the manager is responsible for.
Emits events on ServiceWorkerManager.events when a worker state changes.</p>

<p>Follows (loosely!) the spec outlined here: <a href="http://www.w3.org/TR/service-workers/#service-worker-registration-update-method">http://www.w3.org/TR/service-workers/#service-worker-registration-update-method</a></p>

<p><li>Parameters:</p>

<p><ul>
<li>urlOfServiceWorker: The URL for the JavaScript file containing the service worker</li>
<li>scope: If registering a new worker, the scope to register under. Optional, as when updating we use the existing scope.</li>
<li>forceCheck: By default, register() only checks the remote URL once every 24 hours. But update() forces it.</li>
</ul></li>
<div class="aside aside-returns">
    <p class="aside-title">Returns</p>
    A promise containing the instance ID of the newly installed worker.</p>

<p></div></p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">static</span> <span class="kd">func</span> <span class="nf">update</span><span class="p">(</span><span class="nv">urlOfServiceWorker</span><span class="p">:</span><span class="kt">NSURL</span><span class="p">,</span> <span class="nv">scope</span><span class="p">:</span><span class="kt">NSURL</span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">,</span> <span class="nv">forceCheck</span><span class="p">:</span><span class="kt">Bool</span> <span class="o">=</span> <span class="kc">false</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Promise</span><span class="o">&lt;</span><span class="kt">Int</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>urlOfServiceWorker</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The URL for the JavaScript file containing the service worker</p>

                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>scope</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>If registering a new worker, the scope to register under. Optional, as when updating we use the existing scope.</p>

                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>forceCheck</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>By default, register() only checks the remote URL once every 24 hours. But update() forces it.</p>

                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A promise containing the instance ID of the newly installed worker.</p>

                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:ZFC27hybrid_notification_content20ServiceWorkerManager42getAllServiceWorkersWithScopeContainingURLERR"></a>
                    <a name="//apple_ref/swift/Method/getAllServiceWorkersWithScopeContainingURL(pageURL:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:ZFC27hybrid_notification_content20ServiceWorkerManager42getAllServiceWorkersWithScopeContainingURLERR">getAllServiceWorkersWithScopeContainingURL(pageURL:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Return an array of ServiceWorkerMatches for all the workers whose scope contains the specified
URL. Includes workers of all states (installing, etc)</p>

<div class="aside aside-parameter">
    <p class="aside-title">Parameter</p>
    Parameter pageURL: The URL we want to check

</div>

<div class="aside aside-returns">
    <p class="aside-title">Returns</p>
    A promise of a ServiceWorkerMatch array. If no matches, will be empty.

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">static</span> <span class="kd">func</span> <span class="nf">getAllServiceWorkersWithScopeContainingURL</span><span class="p">(</span><span class="nv">pageURL</span><span class="p">:</span><span class="kt">NSURL</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Promise</span><span class="o">&lt;</span><span class="p">[</span><span class="kt"><a href="../Classes/ServiceWorkerMatch.html">ServiceWorkerMatch</a></span><span class="p">]</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>pageURL</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The URL we want to check</p>

                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A promise of a ServiceWorkerMatch array. If no matches, will be empty.</p>

                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:ZFC27hybrid_notification_content20ServiceWorkerManager25insertServiceWorkerIntoDBERR"></a>
                    <a name="//apple_ref/swift/Method/insertServiceWorkerIntoDB(serviceWorkerURL:scope:lastChecked:js:installState:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:ZFC27hybrid_notification_content20ServiceWorkerManager25insertServiceWorkerIntoDBERR">insertServiceWorkerIntoDB(serviceWorkerURL:scope:lastChecked:js:installState:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Actually insert the worker&rsquo;s JavaScript source into the database</p>

<p><li>Parameters:</p>

<p><ul>
<li>serviceWorkerURL: The URL this source came from</li>
<li>scope: The scope for this worker</li>
<li>lastChecked: Second-based timestamp of the time this was downloaded</li>
<li>js: The JavaScript string itself</li>
<li>installState: The ServiceWorkerInstallState. Default is <q>installing</q> but we can override, e.g. for tests</li>
</ul></li>
<div class="aside aside-returns">
    <p class="aside-title">Returns</p>
    A promise returning the instance ID of the inserted worker.</p>

<p></div></p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">static</span> <span class="kd">func</span> <span class="nf">insertServiceWorkerIntoDB</span><span class="p">(</span><span class="nv">serviceWorkerURL</span><span class="p">:</span><span class="kt">NSURL</span><span class="p">,</span> <span class="nv">scope</span><span class="p">:</span> <span class="kt">NSURL</span><span class="p">,</span> <span class="nv">lastChecked</span><span class="p">:</span><span class="kt">Int</span><span class="p">,</span> <span class="nv">js</span><span class="p">:</span><span class="kt">NSData</span><span class="p">,</span> <span class="nv">installState</span><span class="p">:</span><span class="kt"><a href="../Enums/ServiceWorkerInstallState.html">ServiceWorkerInstallState</a></span> <span class="o">=</span> <span class="kt"><a href="../Enums/ServiceWorkerInstallState.html">ServiceWorkerInstallState</a></span><span class="o">.</span><span class="kt">Installing</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Promise</span><span class="o">&lt;</span><span class="kt">Int</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>serviceWorkerURL</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The URL this source came from</p>

                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>scope</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The scope for this worker</p>

                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>lastChecked</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Second-based timestamp of the time this was downloaded</p>

                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>js</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The JavaScript string itself</p>

                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>installState</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The ServiceWorkerInstallState. Default is “installing” but we can override, e.g. for tests</p>

                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A promise returning the instance ID of the inserted worker.</p>

                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:ZFC27hybrid_notification_content20ServiceWorkerManagerP33_B11C0DB0AF7C848A4B4978D7BFD8FF8931updateServiceWorkerInstallStateFzT2idSi5stateOS_25ServiceWorkerInstallState14updateDatabaseSb_T_"></a>
                    <a name="//apple_ref/swift/Method/updateServiceWorkerInstallState(id:state:updateDatabase:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:ZFC27hybrid_notification_content20ServiceWorkerManagerP33_B11C0DB0AF7C848A4B4978D7BFD8FF8931updateServiceWorkerInstallStateFzT2idSi5stateOS_25ServiceWorkerInstallState14updateDatabaseSb_T_">updateServiceWorkerInstallState(id:state:updateDatabase:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Update the state of a worker in the database, as well as emit events accordingly.</p>

<p><li>Parameters:</p>

<p><ul>
<li>id: The instance ID to update</li>
<li>state: The new install state</li>
<li>updateDatabase: Whether we should update the database or not. Sometimes this has already been done and we just want to send events (need to tweak this)</li>
</ul></li>
<div class="aside aside-throws">
    <p class="aside-title">Throws</p>
    An error if database connectivity fails</p>

<p></div></p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">private</span> <span class="kd">static</span> <span class="kd">func</span> <span class="nf">updateServiceWorkerInstallState</span><span class="p">(</span><span class="nv">id</span><span class="p">:</span> <span class="kt">Int</span><span class="p">,</span> <span class="nv">state</span><span class="p">:</span><span class="kt"><a href="../Enums/ServiceWorkerInstallState.html">ServiceWorkerInstallState</a></span><span class="p">,</span> <span class="nv">updateDatabase</span><span class="p">:</span><span class="kt">Bool</span> <span class="o">=</span> <span class="kc">true</span><span class="p">)</span> <span class="k">throws</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>id</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The instance ID to update</p>

                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>state</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The new install state</p>

                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>updateDatabase</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Whether we should update the database or not. Sometimes this has already been done and we just want to send events (need to tweak this)</p>

                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:ZFC27hybrid_notification_content20ServiceWorkerManager21activateServiceWorkerERR"></a>
                    <a name="//apple_ref/swift/Method/activateServiceWorker(swInstance:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:ZFC27hybrid_notification_content20ServiceWorkerManager21activateServiceWorkerERR">activateServiceWorker(swInstance:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Run an <q>activate</q> event inside the worker</p>

<div class="aside aside-parameter">
    <p class="aside-title">Parameter</p>
    Parameter swInstance: The instance we want to activate

</div>

<div class="aside aside-returns">
    <p class="aside-title">Returns</p>
    A promise that waits until the <q>activate</q> ExtendedEvent completes.

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">static</span> <span class="kd">func</span> <span class="nf">activateServiceWorker</span><span class="p">(</span><span class="nv">swInstance</span><span class="p">:</span><span class="kt"><a href="../Classes/ServiceWorkerInstance.html">ServiceWorkerInstance</a></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Promise</span><span class="o">&lt;</span><span class="kt">Void</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>swInstance</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The instance we want to activate</p>

                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A promise that waits until the “activate” ExtendedEvent completes.</p>

                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:ZFC27hybrid_notification_content20ServiceWorkerManager20installServiceWorkerERR"></a>
                    <a name="//apple_ref/swift/Method/installServiceWorker(id:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:ZFC27hybrid_notification_content20ServiceWorkerManager20installServiceWorkerERR">installServiceWorker(id:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Run an <q>install</q> event on a service worker, where it typically adds items to the cache etc. If the
worker calls self.skipWaiting() as part of the install process, it will immediately move onto the
activation event.</p>

<div class="aside aside-parameter">
    <p class="aside-title">Parameter</p>
    Parameter id: The instance ID of the worker to install

</div>

<div class="aside aside-returns">
    <p class="aside-title">Returns</p>
    A promise containing the resulting install state - either Installed, Activated or Redundant if either step fails

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">static</span> <span class="kd">func</span> <span class="nf">installServiceWorker</span><span class="p">(</span><span class="nv">id</span><span class="p">:</span><span class="kt">Int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Promise</span><span class="o">&lt;</span><span class="kt"><a href="../Enums/ServiceWorkerInstallState.html">ServiceWorkerInstallState</a></span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>id</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The instance ID of the worker to install</p>

                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A promise containing the resulting install state - either Installed, Activated or Redundant if either step fails</p>

                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:ZFC27hybrid_notification_content20ServiceWorkerManager27cycleThroughEligibleWorkersERR"></a>
                    <a name="//apple_ref/swift/Method/cycleThroughEligibleWorkers(workerIds:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:ZFC27hybrid_notification_content20ServiceWorkerManager27cycleThroughEligibleWorkersERR">cycleThroughEligibleWorkers(workerIds:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>If we have multiple workers for a URL, we want to cycle through them and see if any are
at an Installed state and pending activation. If so, we want to try activating it, but if
it fails, move onto the next worker.</p>

<div class="aside aside-parameter">
    <p class="aside-title">Parameter</p>
    Parameter workerIds: array of worker instance IDs

</div>

<div class="aside aside-returns">
    <p class="aside-title">Returns</p>
    A promise containing an active service worker. Nil if there isn&rsquo;t one.

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">static</span> <span class="kd">func</span> <span class="nf">cycleThroughEligibleWorkers</span><span class="p">(</span><span class="nv">workerIds</span><span class="p">:[</span><span class="kt">Int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kt">Promise</span><span class="o">&lt;</span><span class="kt"><a href="../Classes/ServiceWorkerInstance.html">ServiceWorkerInstance</a></span><span class="p">?</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>workerIds</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>array of worker instance IDs</p>

                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A promise containing an active service worker. Nil if there isn’t one.</p>

                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:ZFC27hybrid_notification_content20ServiceWorkerManager37getServiceWorkerWhoseScopeContainsURLERR"></a>
                    <a name="//apple_ref/swift/Method/getServiceWorkerWhoseScopeContainsURL(url:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:ZFC27hybrid_notification_content20ServiceWorkerManager37getServiceWorkerWhoseScopeContainsURLERR">getServiceWorkerWhoseScopeContainsURL(url:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Return a service worker with a scope that contains the provided URL.</p>

<div class="aside aside-parameter">
    <p class="aside-title">Parameter</p>
    Parameter url: The URL to match

</div>

<div class="aside aside-returns">
    <p class="aside-title">Returns</p>
    A promise containing a service worker, or nil if there is no scope match.

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">static</span> <span class="kd">func</span> <span class="nf">getServiceWorkerWhoseScopeContainsURL</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span><span class="kt">NSURL</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Promise</span><span class="o">&lt;</span><span class="kt"><a href="../Classes/ServiceWorkerInstance.html">ServiceWorkerInstance</a></span><span class="p">?</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>url</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The URL to match</p>

                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A promise containing a service worker, or nil if there is no scope match.</p>

                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </section>
        </section>
        <section id="footer">
          <p>&copy; 2016 <a class="link" href="" target="_blank" rel="external"></a>. All rights reserved. (Last updated: 2016-11-16)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.7.2</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
